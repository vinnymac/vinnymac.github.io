{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/jasmine-and-teaspoon/","webpackCompilationHash":"d838d64a50d1ac9f080a","result":{"data":{"markdownRemark":{"id":"0eadb428-079c-572e-8046-67988d99f29d","html":"<h3 id=\"onstart\"><a href=\"#onstart\" aria-label=\"onstart permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>onStart</h3>\n<p>In the case of writing tests for your javascript/coffeescript apps you will find that Jasmine is one of the best options. It is easy to add to by improving its matchers, and it is flexible enough to test more difficult subjects like asynchronous calls or mock/stub events and data. If you are currently looking for a way to test the front end of your website or javascript app you will not regret using jasmine to do so.</p>\n<h3 id=\"getting-started-with-teaspoon\"><a href=\"#getting-started-with-teaspoon\" aria-label=\"getting started with teaspoon permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Getting Started with Teaspoon</h3>\n<p>When testing with Jasmine I found it easiest to use <a href=\"https://github.com/modeset/teaspoon\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Teaspoon</a> alongside to easily setup a testing environment. Teaspoon has many benefits. They offer support for command line testing as well as testing in the browser. Teaspoon automatically generates a spec helper so that you can easily require your front end app. Combine this with Stub/Mocking with <a href=\"https://github.com/froots/jasmine-sinon\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">jasmine-sinon</a> and <a href=\"https://github.com/velesin/jasmine-jquery\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">jasmine-jquery</a> and you will have all the testing tools you could want on the front end.</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token comment\"># Add these lines to your Gemfile</span>\ngroup <span class=\"token symbol\">:development</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:test</span> <span class=\"token keyword\">do</span>\n  gem <span class=\"token string\">\"teaspoon\"</span>\n  <span class=\"token comment\"># Teaspoon can use selenium or phantomjs</span>\n  <span class=\"token comment\"># gem \"phantomjs\", \">= 1.8.1.1\"</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<p>After setting up your gemfile, you can run bundler. Then execute the following line in your terminal. You can specify a framework, in my case I am using Jasmine, but Teaspoon supports other as well, such as Mocha. I also love to use coffeescript when testing, so I append â€”coffee to the end of the command to tell Teaspoon I will be writing coffee files.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">rails generate teaspoon:install --framework=jasmine --coffee</code></pre></div>\n<p>You can run your tests by visiting <a href=\"http://localhost:3000/teaspoon\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://localhost:3000/teaspoon</a>. Where 3000 is the port you run your server on.\nAlternatively you can run the Teaspoon test suites by typing rake teaspoon in the command line. They both have benefits, but ultimately you may find yourself wanting to run your tests using Guard. That way you can run your tests while you develop. If you are interested in using Guard with Teaspoon, I recommend reading about <a href=\"https://github.com/modeset/guard-teaspoon\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">guard-teaspoon</a>.</p>\n<h3 id=\"writing-jasmine-tests\"><a href=\"#writing-jasmine-tests\" aria-label=\"writing jasmine tests permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Writing Jasmine Tests</h3>\n<p>Now that you have setup Teaspoon you can get to the fun part. I recommend reading Jasmines documentation, they have a lot of great examples on the various types of tests you may come across when testing a front end. In my case below, I am testing my backbone model Person, and the attributes that exist on it by default. If you want open a new file in the jasmine folder that Teaspoon generated. In my case it would be person_spec.coffee.</p>\n<div class=\"gatsby-highlight\" data-language=\"coffeescript\"><pre class=\"language-coffeescript\"><code class=\"language-coffeescript\">describe <span class=\"token string\">\"Person\"</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span>\n\n  <span class=\"token comment\"># If you want to do something before each test</span>\n  beforeEach <span class=\"token operator\">-</span><span class=\"token operator\">></span>\n    person <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">People<span class=\"token punctuation\">.</span>Person</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n  it <span class=\"token string\">'should be alive'</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeDefined</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n  it <span class=\"token string\">'should have a name'</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># underscore method</span>\n\n  it <span class=\"token string\">'should have a favorite food'</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'food'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Pizza\"</span><span class=\"token punctuation\">)</span>\n\n  it <span class=\"token string\">'should have an identification'</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'id'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeNumber</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\"># If you want to write the boilerplate</span>\n  <span class=\"token comment\"># for a test you haven't finished yet</span>\n  xit <span class=\"token string\">'can die'</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span>\n\n  <span class=\"token comment\"># Testing a method on a model</span>\n  it <span class=\"token string\">'should have a creator'</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">.</span><span class=\"token function\">creator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBe</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Vinny\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3 id=\"creating-matchers\"><a href=\"#creating-matchers\" aria-label=\"creating matchers permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Creating Matchers</h3>\n<p>So now that you have written a test, maybe you want to expand the tools you have at your disposal when testing in Jasmine. Matchers make it easy to create new tools you can use for testing. If you have the <a href=\"http://underscorejs.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">UnderscoreJS</a> library, you can easily add some matchers to Jasmine that will make testing better. In order to start adding matchers, open up your spec_helper file that Teaspoon generated. At the end of this file you can add any matchers you might want when writing your tests.</p>\n<div class=\"gatsby-highlight\" data-language=\"coffeescript\"><pre class=\"language-coffeescript\"><code class=\"language-coffeescript\">beforeEach <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token comment\"># Executes this code before each test.</span>\n  <span class=\"token class-member variable\">@addMatchers</span> <span class=\"token comment\"># Tells Jasmine to add these matchers</span>\n    <span class=\"token property\">toBeOfType</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span>\n      <span class=\"token keyword\">return</span> <span class=\"token keyword\">typeof</span> <span class=\"token class-member variable\">@actual</span> <span class=\"token keyword\">is</span> type <span class=\"token comment\"># @actual points to the expected value</span>\n    <span class=\"token property\">toBeNaN</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span>\n      <span class=\"token keyword\">return</span> _<span class=\"token punctuation\">.</span>isNaN <span class=\"token class-member variable\">@actual</span>\n    <span class=\"token property\">toBeDate</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span>\n      <span class=\"token keyword\">return</span> _<span class=\"token punctuation\">.</span>isDate <span class=\"token class-member variable\">@actual</span>\n    <span class=\"token property\">toBeEmpty</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span>\n      <span class=\"token keyword\">return</span> _<span class=\"token punctuation\">.</span>isEmpty <span class=\"token class-member variable\">@actual</span>\n    <span class=\"token property\">toBeArray</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span>\n      <span class=\"token keyword\">return</span> _<span class=\"token punctuation\">.</span>isArray <span class=\"token class-member variable\">@actual</span>\n    <span class=\"token property\">toBeObject</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span>\n      <span class=\"token keyword\">return</span> _<span class=\"token punctuation\">.</span>isObject <span class=\"token class-member variable\">@actual</span>\n    <span class=\"token property\">toBeRegExp</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span>\n      <span class=\"token keyword\">return</span> _<span class=\"token punctuation\">.</span>isRegExp <span class=\"token class-member variable\">@actual</span>\n    <span class=\"token property\">toBeFinite</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span>\n      <span class=\"token keyword\">return</span> _<span class=\"token punctuation\">.</span>isFinite <span class=\"token class-member variable\">@actual</span>\n    <span class=\"token property\">toBeString</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span>\n      <span class=\"token keyword\">return</span> _<span class=\"token punctuation\">.</span>isString <span class=\"token class-member variable\">@actual</span>\n    <span class=\"token property\">toBeNumber</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span>\n      <span class=\"token keyword\">return</span> _<span class=\"token punctuation\">.</span>isNumber <span class=\"token class-member variable\">@actual</span>\n    <span class=\"token property\">toBeElement</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span>\n      <span class=\"token keyword\">return</span> _<span class=\"token punctuation\">.</span>isElement <span class=\"token class-member variable\">@actual</span>\n    <span class=\"token property\">toBeBoolean</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span>\n      <span class=\"token keyword\">return</span> _<span class=\"token punctuation\">.</span>isBoolean <span class=\"token class-member variable\">@actual</span>\n    <span class=\"token property\">toBeFunction</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span>\n      <span class=\"token keyword\">return</span> _<span class=\"token punctuation\">.</span>isFunction <span class=\"token class-member variable\">@actual</span>\n    <span class=\"token property\">toHaveArguments</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span>\n      <span class=\"token keyword\">return</span> _<span class=\"token punctuation\">.</span>isArguments <span class=\"token class-member variable\">@actual</span></code></pre></div>\n<p>By using a library like underscore you retain the testing environment that Jasmine creates, even when doing comparisons like expecting a handful of arguments. By adding matchers your tests become more clear and concise. Being able to write thin self explanatory tests is priceless. Especially when the magic is coming from a spec helper that you yourself have written.</p>\n<h3 id=\"onfinish\"><a href=\"#onfinish\" aria-label=\"onfinish permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>onFinish</h3>\n<p>Hopefully this brief overview of Teaspoon will give you the jump start you need to get into front end testing. Testing is invaluable, and I recommend doing it for more than just your front end if you can. If you have any problems while testing with Jasmine or just want some help, leave a comment below.</p>","fields":{"slug":"/posts/jasmine-and-teaspoon/","tagSlugs":["/tag/jasmine/","/tag/teaspoon/","/tag/java-script/"]},"frontmatter":{"date":"2014-04-21T23:59:13.000Z","description":null,"tags":["Jasmine","Teaspoon","JavaScript"],"title":"Jasmine and Teaspoon"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/posts/jasmine-and-teaspoon/"}}}